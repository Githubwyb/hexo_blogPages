---
title: C语言学习笔记
date: 2018-09-18 16:05:29
tags: [C/C++]
categories: [notes, study]
top: true
---

# 输出家族函数

```C++
    #include <stdio.h>

    int printf(const char *format, ...); //输出到标准输出
    int fprintf(FILE *stream, const char *format, ...); //输出到文件
    int sprintf(char *str, const char *format, ...); //输出到字符串str中
    int snprintf(char *str, size_t size, const char *format, ...); //按size大小输出到字符串str中
```

以下函数功能与上面的一一对应相同，只是在函数调用时，把上面的...对应的一个个变量用va_list调用所替代。在函数调用前ap要通过va_start()宏来动态获取。

```C++
    #include <stdarg.h>

    int vprintf(const char *format, va_list ap);
    int vfprintf(FILE *stream, const char *format, va_list ap);
    int vsprintf(char *str, const char *format, va_list ap);
    int vsnprintf(char *str, size_t size, const char *format, va_list ap);
```

# const的使用

```C
    const char *p;          //*p是const,p可变：const 后面紧跟的是char，所以*p是一个char字符，不可变
    const (char *) p;       // p是const,*p可变：const 后面紧跟的是（char *）这个整体，所以p是char*类型，不可变。
    char* const p;          // p是const,*p可变:const 后面紧跟的是p,所以p不可变
    const char* const p;    // p和*p都是const：第一个const后面紧跟的是char,所以char类型的字符*p不可变；第二个const后面紧跟的是p,所以p不可变。
    char const * p;         // *p是const,p可变：const后面紧跟的是*,但是单独的*不能表明修饰的内容，所以将*p看成一个整体，所以const修饰的是*p,*p不可变。
    (char*) const p;        // p是const,*p可变：const紧跟的是p,所以p不可变。
    char* const p;          // p是const,*p可变：const紧跟的是p,所以p不可变。
    char const* const p;    // p和*p都是const：第一个const紧跟的是*,不能表明修饰的内容，将后面整体的（* const p）看成一个整体，那就说明*p不可变，第二个const后面紧跟的是p,所以p不可变。
```